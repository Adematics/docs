<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MailExecution | Kestra</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Kestra is a platform to build, test, schedule & monitor complex pipelines.">
    <link rel="preload" href="/assets/css/0.styles.cbc7dd6d.css" as="style"><link rel="preload" href="/assets/js/app.b6f6b8b8.js" as="script"><link rel="preload" href="/assets/js/2.b4dd9589.js" as="script"><link rel="preload" href="/assets/js/64.ec8d2e89.js" as="script"><link rel="preload" href="/assets/js/5.ef3a6b31.js" as="script"><link rel="prefetch" href="/assets/js/10.ac5c392a.js"><link rel="prefetch" href="/assets/js/11.5e579ef7.js"><link rel="prefetch" href="/assets/js/12.76703591.js"><link rel="prefetch" href="/assets/js/13.45f7df51.js"><link rel="prefetch" href="/assets/js/14.aca44547.js"><link rel="prefetch" href="/assets/js/15.08728148.js"><link rel="prefetch" href="/assets/js/16.54be676b.js"><link rel="prefetch" href="/assets/js/17.6ebaa7e5.js"><link rel="prefetch" href="/assets/js/18.65c961c7.js"><link rel="prefetch" href="/assets/js/19.d9cbe003.js"><link rel="prefetch" href="/assets/js/20.0dc0a812.js"><link rel="prefetch" href="/assets/js/21.40f1da39.js"><link rel="prefetch" href="/assets/js/22.e1719a99.js"><link rel="prefetch" href="/assets/js/23.c6c950a3.js"><link rel="prefetch" href="/assets/js/24.c9509a75.js"><link rel="prefetch" href="/assets/js/25.29e9c1da.js"><link rel="prefetch" href="/assets/js/26.3f446d8c.js"><link rel="prefetch" href="/assets/js/27.c8d3cb0d.js"><link rel="prefetch" href="/assets/js/28.a4d843e5.js"><link rel="prefetch" href="/assets/js/29.9e2f9e49.js"><link rel="prefetch" href="/assets/js/3.b5cfb025.js"><link rel="prefetch" href="/assets/js/30.6800c665.js"><link rel="prefetch" href="/assets/js/31.87f895a4.js"><link rel="prefetch" href="/assets/js/32.36d66e5c.js"><link rel="prefetch" href="/assets/js/33.7a939274.js"><link rel="prefetch" href="/assets/js/34.adbb6538.js"><link rel="prefetch" href="/assets/js/35.8b472a5e.js"><link rel="prefetch" href="/assets/js/36.2d497d2a.js"><link rel="prefetch" href="/assets/js/37.bae61e3c.js"><link rel="prefetch" href="/assets/js/38.22537d1e.js"><link rel="prefetch" href="/assets/js/39.3008274c.js"><link rel="prefetch" href="/assets/js/4.118ba6d3.js"><link rel="prefetch" href="/assets/js/40.d094ebe6.js"><link rel="prefetch" href="/assets/js/41.0efcf514.js"><link rel="prefetch" href="/assets/js/42.23c9a955.js"><link rel="prefetch" href="/assets/js/43.53f3a1e5.js"><link rel="prefetch" href="/assets/js/44.93c1574d.js"><link rel="prefetch" href="/assets/js/45.91316b49.js"><link rel="prefetch" href="/assets/js/46.24ef8ebb.js"><link rel="prefetch" href="/assets/js/47.d5888e31.js"><link rel="prefetch" href="/assets/js/48.f75063c2.js"><link rel="prefetch" href="/assets/js/49.4a6abdac.js"><link rel="prefetch" href="/assets/js/50.f431284f.js"><link rel="prefetch" href="/assets/js/51.9ae481d1.js"><link rel="prefetch" href="/assets/js/52.3db6cdf5.js"><link rel="prefetch" href="/assets/js/53.6a5bc42e.js"><link rel="prefetch" href="/assets/js/54.30948fcb.js"><link rel="prefetch" href="/assets/js/55.75bc8339.js"><link rel="prefetch" href="/assets/js/56.ad5f0a3d.js"><link rel="prefetch" href="/assets/js/57.c1547f5b.js"><link rel="prefetch" href="/assets/js/58.e634689e.js"><link rel="prefetch" href="/assets/js/59.f28ffe60.js"><link rel="prefetch" href="/assets/js/6.4eb187fe.js"><link rel="prefetch" href="/assets/js/60.100b311d.js"><link rel="prefetch" href="/assets/js/61.fc598ff9.js"><link rel="prefetch" href="/assets/js/62.fc898b39.js"><link rel="prefetch" href="/assets/js/63.b92efa7d.js"><link rel="prefetch" href="/assets/js/65.a92210fd.js"><link rel="prefetch" href="/assets/js/66.1c7018e1.js"><link rel="prefetch" href="/assets/js/67.3d8852e2.js"><link rel="prefetch" href="/assets/js/68.686d4ce4.js"><link rel="prefetch" href="/assets/js/69.2d0f02de.js"><link rel="prefetch" href="/assets/js/7.739b12a0.js"><link rel="prefetch" href="/assets/js/70.c9be6046.js"><link rel="prefetch" href="/assets/js/71.8c938414.js"><link rel="prefetch" href="/assets/js/72.917e0710.js"><link rel="prefetch" href="/assets/js/8.bd821c36.js"><link rel="prefetch" href="/assets/js/9.24595f10.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cbc7dd6d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Kestra" class="logo"> <span class="site-name can-hide">Kestra</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/plugins/" class="nav-link router-link-active">
  Plugins &amp; Tasks
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="/plugins/" class="nav-link router-link-active">
  Plugins &amp; Tasks
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Plugins &amp; Tasks</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/plugins/" aria-current="page" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Task Aws</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Task Fs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Task Gcp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Task Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Task Notifications</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>Tasks</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-3"><p class="sidebar-heading open"><span>Mail</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/plugins/task-notifications/tasks/mail/org.kestra.task.notifications.mail.MailExecution.html" aria-current="page" class="active sidebar-link">MailExecution</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/task-notifications/tasks/mail/org.kestra.task.notifications.mail.MailExecution.html#examples" class="sidebar-link">Examples</a></li><li class="sidebar-sub-header"><a href="/plugins/task-notifications/tasks/mail/org.kestra.task.notifications.mail.MailExecution.html#inputs" class="sidebar-link">Inputs</a></li></ul></li><li><a href="/plugins/task-notifications/tasks/mail/org.kestra.task.notifications.mail.MailSend.html" class="sidebar-link">MailSend</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-3"><p class="sidebar-heading"><span>Slack</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Task Serdes</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mailexecution"><a href="#mailexecution" class="header-anchor">#</a> MailExecution</h1> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">&quot;org.kestra.task.notifications.mail.MailExecution&quot;</span>
</code></pre></div><blockquote><p>Task to send a mail with execution information</p></blockquote> <p>Main execution information are provided in the sent mail (id, namespace, flow, state, duration, start date ...).</p> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <blockquote><p>Send a mail notification on failed flow</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">id</span><span class="token punctuation">:</span> mail
<span class="token key atrule">namespace</span><span class="token punctuation">:</span> org.kestra.tests

<span class="token key atrule">listeners</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">conditions</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> org.kestra.core.models.listeners.types.ExecutionStatusCondition
        <span class="token key atrule">in</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> FAILED
    <span class="token key atrule">tasks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> mail
        <span class="token key atrule">type</span><span class="token punctuation">:</span> org.kestra.task.notifications.mail.MailExecution
        <span class="token key atrule">to</span><span class="token punctuation">:</span> to@mail.com
        <span class="token key atrule">from</span><span class="token punctuation">:</span> from@mail.com
        <span class="token key atrule">subject</span><span class="token punctuation">:</span> This is the subject
        <span class="token key atrule">host</span><span class="token punctuation">:</span> nohost<span class="token punctuation">-</span>mail.site
        <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">465</span>
        <span class="token key atrule">username</span><span class="token punctuation">:</span> user
        <span class="token key atrule">password</span><span class="token punctuation">:</span> pass
        <span class="token key atrule">sessionTimeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>
        <span class="token key atrule">transportStrategy</span><span class="token punctuation">:</span> SMTPS


<span class="token key atrule">tasks</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ok
    <span class="token key atrule">type</span><span class="token punctuation">:</span> org.kestra.core.tasks.debugs.Return
    <span class="token key atrule">format</span><span class="token punctuation">:</span> <span class="token string">&quot;{{task.id}} &gt; {{taskrun.startDate}}&quot;</span>
</code></pre></div><h2 id="inputs"><a href="#inputs" class="header-anchor">#</a> Inputs</h2> <h3 id="from"><a href="#from" class="header-anchor">#</a> <code>from</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>String</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The address of the sender of this email</p></blockquote> <h3 id="host"><a href="#host" class="header-anchor">#</a> <code>host</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>String</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The mail server host</p></blockquote> <h3 id="htmltextcontent"><a href="#htmltextcontent" class="header-anchor">#</a> <code>htmlTextContent</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>String</span></li> <li><strong>Dynamic:</strong> ✔️</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The optional email message body in HTML text</p></blockquote> <p>Both text and HTML can be provided, which will be offered to the email client as alternative content. Email clients that support it, will favor HTML over plain text and ignore the text body completely</p> <h3 id="password"><a href="#password" class="header-anchor">#</a> <code>password</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>String</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The mail server password</p></blockquote> <h3 id="port"><a href="#port" class="header-anchor">#</a> <code>port</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>Integer</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The mail server port</p></blockquote> <h3 id="sessiontimeout"><a href="#sessiontimeout" class="header-anchor">#</a> <code>sessionTimeout</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>Integer</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>Controls the timeout to use when sending emails</p></blockquote> <p>It affects socket connect-, read- and write timeouts</p> <h3 id="subject"><a href="#subject" class="header-anchor">#</a> <code>subject</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>String</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The optional subject of this email</p></blockquote> <h3 id="to"><a href="#to" class="header-anchor">#</a> <code>to</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>String</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The recipient email address</p></blockquote> <p>Note that the email address must be an RFC2822 format compliant address.</p> <h3 id="transportstrategy"><a href="#transportstrategy" class="header-anchor">#</a> <code>transportStrategy</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>Enum</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li> <li><strong>Possible Values:</strong> <ul><li>SMTP</li> <li>SMTPS</li> <li>SMTP_TLS</li></ul></li></ul> <blockquote><p>The optional transport strategy</p></blockquote> <p>Will default to SMTPS if left empty.</p> <h3 id="username"><a href="#username" class="header-anchor">#</a> <code>username</code></h3> <ul><li><strong>Type:</strong> <span class="badge tip" style="vertical-align:middle;" data-v-15b7b770>String</span></li> <li><strong>Dynamic:</strong> ❌</li> <li><strong>Required:</strong> ❌</li></ul> <blockquote><p>The mail server username</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/plugins/task-kubernetes/tasks/org.kestra.task.kubernetes.JobCreate.html" class="prev">
        JobCreate
      </a></span> <span class="next"><a href="/plugins/task-notifications/tasks/mail/org.kestra.task.notifications.mail.MailSend.html">
        MailSend
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b6f6b8b8.js" defer></script><script src="/assets/js/2.b4dd9589.js" defer></script><script src="/assets/js/64.ec8d2e89.js" defer></script><script src="/assets/js/5.ef3a6b31.js" defer></script>
  </body>
</html>
