(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{638:function(t,s,a){"use strict";a.r(s);var e=a(13),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",[a("img",{attrs:{width:"25",src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMEQxNTIzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNjQgNjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDY0IDY0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHJlY3QgeD0iMTMuMzUiIHk9IjMyLjI0IiB3aWR0aD0iNS44NSIgaGVpZ2h0PSI1Ljg1Ij48L3JlY3Q+PHJlY3QgeD0iMTMuMzUiIHk9IjQ4LjMyIiB3aWR0aD0iNS44NSIgaGVpZ2h0PSI1Ljg1Ij48L3JlY3Q+PHBhdGggZD0iTTUuMzYsMHY2NGg1My4yOWwwLTY0SDUuMzZ6IE0yMS42NSw1NS4zOWMwLDAuNjctMC41NSwxLjIyLTEuMjIsMS4yMmgtOC4zYy0wLjY4LDAtMS4yMi0wLjU1LTEuMjItMS4yMnYtOC4zICAgYzAtMC42NywwLjU1LTEuMjIsMS4yMi0xLjIyaDguM2MwLjY3LDAsMS4yMiwwLjU1LDEuMjIsMS4yMlY1NS4zOXogTTIxLjY1LDM5LjMyYzAsMC42Ny0wLjU1LDEuMjItMS4yMiwxLjIyaC04LjMgICBjLTAuNjgsMC0xLjIyLTAuNTUtMS4yMi0xLjIydi04LjNjMC0wLjY3LDAuNTUtMS4yMiwxLjIyLTEuMjJoOC4zYzAuNjcsMCwxLjIyLDAuNTUsMS4yMiwxLjIyVjM5LjMyeiBNMzcuODMsNTUuMTIgICBjMCwwLjY3LTAuNTUsMS4yMi0xLjIyLDEuMjJoLTguMjljLTAuNjgsMC0xLjIyLTAuNTUtMS4yMi0xLjIydi04LjNjMC0wLjY3LDAuNTUtMS4yMiwxLjIyLTEuMjJoOC4yOWMwLjY3LDAsMS4yMiwwLjU1LDEuMjIsMS4yMiAgIFY1NS4xMnogTTM3LjgzLDM5LjA1YzAsMC42Ny0wLjU1LDEuMjItMS4yMiwxLjIyaC04LjI5Yy0wLjY4LDAtMS4yMi0wLjU1LTEuMjItMS4yMnYtOC4zYzAtMC42NywwLjU1LTEuMjIsMS4yMi0xLjIyaDguMjkgICBjMC42NywwLDEuMjIsMC41NSwxLjIyLDEuMjJWMzkuMDV6IE01My40Niw1NS4zOWMwLDAuNjctMC41NSwxLjIyLTEuMjIsMS4yMmgtOC4zYy0wLjY4LDAtMS4yMi0wLjU1LTEuMjItMS4yMnYtOC4zICAgYzAtMC42NywwLjU1LTEuMjIsMS4yMi0xLjIyaDguMjljMC42OCwwLDEuMjIsMC41NSwxLjIyLDEuMjJWNTUuMzl6IE01My40NiwzOS4zMmMwLDAuNjctMC41NSwxLjIyLTEuMjIsMS4yMmgtOC4zICAgYy0wLjY4LDAtMS4yMi0wLjU1LTEuMjItMS4yMnYtOC4zYzAtMC42NywwLjU1LTEuMjIsMS4yMi0xLjIyaDguMjljMC42OCwwLDEuMjIsMC41NSwxLjIyLDEuMjJWMzkuMzJ6IE01My44OSwyMi42MyAgIGMwLDAuNjctMC41NSwxLjIyLTEuMjIsMS4yMkgxMS43Yy0wLjY4LDAtMS4yMi0wLjU1LTEuMjItMS4yMlY1Ljk3YzAtMC42OCwwLjU1LTEuMjIsMS4yMi0xLjIyaDQwLjk2YzAuNjgsMCwxLjIyLDAuNTUsMS4yMiwxLjIyICAgVjIyLjYzeiI+PC9wYXRoPjxyZWN0IHg9IjI5LjUzIiB5PSIzMS45NyIgd2lkdGg9IjUuODUiIGhlaWdodD0iNS44NSI+PC9yZWN0PjxyZWN0IHg9IjI5LjUzIiB5PSI0OC4wNCIgd2lkdGg9IjUuODUiIGhlaWdodD0iNS44NSI+PC9yZWN0PjxyZWN0IHg9IjQ1LjE2IiB5PSI0OC4zMiIgd2lkdGg9IjUuODUiIGhlaWdodD0iNS44NSI+PC9yZWN0PjxyZWN0IHg9IjEyLjkyIiB5PSI3LjIiIHdpZHRoPSIzOC41MiIgaGVpZ2h0PSIxNC4yMiI+PC9yZWN0PjxyZWN0IHg9IjQ1LjE2IiB5PSIzMi4yNCIgd2lkdGg9IjUuODUiIGhlaWdodD0iNS44NSI+PC9yZWN0PjwvZz48L3N2Zz4=",alt:"Counts"}}),t._v(" Counts\n")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"io.kestra.core.tasks.executions.Counts"')]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("List execution counts for a list of flow")])]),t._v(" "),a("p",[t._v("Mostly use for send an alert if a conditions is meet about execution counts.")]),t._v(" "),a("h2",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),a("blockquote",[a("p",[t._v("Send a slack notification if no execution for a flow on last 24h")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" executions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("count\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" io.kestra.tests\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tasks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counts\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" io.kestra.core.tasks.executions.Counts\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("expression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{ count == 0 }}"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flows")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" io.kestra.tests\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flowId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" logs\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("startDate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{{ now() | dateAdd(-1, 'DAYS') }}\"")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" each_parallel\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" io.kestra.core.tasks.flows.EachParallel\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tasks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" slack_incoming_webhook\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" io.kestra.plugin.notifications.slack.SlackIncomingWebhook\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("payload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v('\n          {\n            "channel": "#run-channel",\n            "text": ":warning: Flow <code v-pre>{{  jq taskrun.value \'.namespace\' true  }}</code>.<code v-pre>{{  jq taskrun.value \'.flowId\' true  }}</code> has no execution on last 24h !"\n          }')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"{{ jq outputs.counts.results '. | select(. != null) | .[]' }}\"")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("triggers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" schedule\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" io.kestra.core.models.triggers.types.Schedule\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("backfill")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cron")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0 4 * * * "')]),t._v("\n")])])]),a("h2",{attrs:{id:"properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#properties"}},[t._v("#")]),t._v(" Properties")]),t._v(" "),a("h3",{attrs:{id:"enddate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enddate"}},[t._v("#")]),t._v(" "),a("code",[t._v("endDate")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ✔️")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ❌")])]),t._v(" "),a("blockquote",[a("p",[t._v("The end date")])]),t._v(" "),a("h3",{attrs:{id:"expression"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expression"}},[t._v("#")]),t._v(" "),a("code",[t._v("expression")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ✔️")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ✔️")])]),t._v(" "),a("blockquote",[a("p",[t._v("The expression against each flows to look at")])]),t._v(" "),a("p",[t._v("The expression is as handlebars expression must return "),a("code",[t._v("true")]),t._v(" in order to keep the current line"),a("br"),t._v("\nsome examples:")]),t._v(" "),a("ul",[a("li",[a("code",{pre:!0},[t._v("{{  eq count 0  }}")]),t._v(": no execution found")]),t._v(" "),a("li",[a("code",{pre:!0},[t._v("{{  gte count 5  }}")]),t._v(": more than 5 executions")])]),t._v(" "),a("h3",{attrs:{id:"flows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flows"}},[t._v("#")]),t._v(" "),a("code",[t._v("flows")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("array")])]),t._v(" "),a("li",[a("strong",[t._v("SubType:")]),t._v(" "),a("mark",[a("a",{attrs:{href:"#flow"}},[t._v("Flow")])])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ❌")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ✔️")]),t._v(" "),a("li",[a("strong",[t._v("Min items:")]),t._v(" "),a("code",[t._v("1")])])]),t._v(" "),a("blockquote",[a("p",[t._v("A list of flows to be filtered")])]),t._v(" "),a("h3",{attrs:{id:"startdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#startdate"}},[t._v("#")]),t._v(" "),a("code",[t._v("startDate")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ✔️")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ✔️")])]),t._v(" "),a("blockquote",[a("p",[t._v("The start date")])]),t._v(" "),a("h3",{attrs:{id:"states"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#states"}},[t._v("#")]),t._v(" "),a("code",[t._v("states")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("array")])]),t._v(" "),a("li",[a("strong",[t._v("SubType:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ❌")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ❌")])]),t._v(" "),a("blockquote",[a("p",[t._v("A list of state to be filtered")])]),t._v(" "),a("h2",{attrs:{id:"outputs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outputs"}},[t._v("#")]),t._v(" Outputs")]),t._v(" "),a("h3",{attrs:{id:"results"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#results"}},[t._v("#")]),t._v(" "),a("code",[t._v("results")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("array")])]),t._v(" "),a("li",[a("strong",[t._v("SubType:")]),t._v(" "),a("mark",[a("a",{attrs:{href:"#result"}},[t._v("Result")])])])]),t._v(" "),a("h2",{attrs:{id:"definitions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#definitions"}},[t._v("#")]),t._v(" Definitions")]),t._v(" "),a("h3",{attrs:{id:"result"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#result"}},[t._v("#")]),t._v(" "),a("code",[t._v("Result")])]),t._v(" "),a("h4",{attrs:{id:"count"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#count"}},[t._v("#")]),t._v(" "),a("code",[t._v("count")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("integer")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ❓")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ❌")])]),t._v(" "),a("h4",{attrs:{id:"flowid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flowid"}},[t._v("#")]),t._v(" "),a("code",[t._v("flowId")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ❓")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ❌")])]),t._v(" "),a("h4",{attrs:{id:"namespace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#namespace"}},[t._v("#")]),t._v(" "),a("code",[t._v("namespace")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ❓")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ❌")])]),t._v(" "),a("h3",{attrs:{id:"flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flow"}},[t._v("#")]),t._v(" "),a("code",[t._v("Flow")])]),t._v(" "),a("h4",{attrs:{id:"flowid-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flowid-2"}},[t._v("#")]),t._v(" "),a("code",[t._v("flowId")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ❓")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ✔️")])]),t._v(" "),a("h4",{attrs:{id:"namespace-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#namespace-2"}},[t._v("#")]),t._v(" "),a("code",[t._v("namespace")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Type:")]),t._v(" "),a("mark",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("Dynamic:")]),t._v(" ❓")]),t._v(" "),a("li",[a("strong",[t._v("Required:")]),t._v(" ✔️")])])])}),[],!1,null,null,null);s.default=n.exports}}]);