(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{698:function(a,e,t){"use strict";t.r(e);var s=t(19),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"others-kestra-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#others-kestra-configuration"}},[a._v("#")]),a._v(" Others Kestra configuration")]),a._v(" "),t("h2",{attrs:{id:"url-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#url-configuration"}},[a._v("#")]),a._v(" Url configuration")]),a._v(" "),t("p",[a._v("Some notification services require a URL configuration defined in order to add some links directly to the Web UI. Use a full uri here with a trailing "),t("code",[a._v("/")]),a._v(" (without ui or api).")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//www.my"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("host.com/kestra/\n\n")])])]),t("h2",{attrs:{id:"plugins-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugins-configuration"}},[a._v("#")]),a._v(" Plugins configuration")]),a._v(" "),t("p",[a._v("Configuration of maven repositories used for the command "),t("code",[a._v("plugins install")]),a._v("."),t("br"),a._v("\nDefaults are necessary for Kestra and plugins, but you can add your own custom maven registries in order to download your own plugins with this command.")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("plugins")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("repositories")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("central")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//repo.maven.apache.org/maven2/\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("jcenter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//jcenter.bintray.com/\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//dl.bintray.com/kestra/maven\n\n")])])]),t("h2",{attrs:{id:"docker-configurations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-configurations"}},[a._v("#")]),a._v(" Docker configurations")]),a._v(" "),t("h3",{attrs:{id:"kestra-tasks-scripts-docker-volume-enabled"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-tasks-scripts-docker-volume-enabled"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.tasks.scripts.docker.volume-enabled")])]),a._v(" "),t("p",[a._v("Volumes mount are disabled by default for security reasons, you can enabled it with this configurations:")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tasks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("scripts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("docker")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volume-enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("h2",{attrs:{id:"variables-configurations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#variables-configurations"}},[a._v("#")]),a._v(" Variables configurations")]),a._v(" "),t("h3",{attrs:{id:"kestra-variables-env-vars-prefix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-variables-env-vars-prefix"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.variables.env-vars-prefix")])]),a._v(" "),t("p",[a._v("Kestra provides a way to use environment variables in your flow."),t("br"),a._v("\nBy default, we only get environment variables that start with "),t("code",[a._v("KESTRA_")]),a._v(".")]),a._v(" "),t("p",[a._v("These variables will be accessible on flow with "),t("code",{pre:!0},[a._v("{{ env.your_env }}")])]),a._v(" "),t("p",[a._v("For example, env vars with the name "),t("code",[a._v("KESTRA_MY_ENV")]),a._v(" will be usable with  "),t("code",{pre:!0},[a._v("{{ env.my_env }}")])]),a._v(" "),t("h3",{attrs:{id:"kestra-variables-globals"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-variables-globals"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.variables.globals")])]),a._v(" "),t("p",[a._v("You can also provide globals variables from the configuration files that will be accessible in all your flows."),t("br"),a._v("\nMostly these will be used to declare the environment on your instance,  such as global datasets, for example")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("variables")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("globals")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" dev\n\n")])])]),t("p",[a._v("These variables will be accessible on flows with "),t("code",{pre:!0},[a._v("{{ globals.env }}")])]),a._v(" "),t("h3",{attrs:{id:"kestra-variables-disable-handlebars"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-variables-disable-handlebars"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.variables.disable-handlebars")])]),a._v(" "),t("p",[a._v("By default, "),t("a",{attrs:{href:"../../../developer-guide/variables/deprecated-handlebars"}},[a._v("deprecated handlebars")]),a._v(" is disabled, it can be enabled with "),t("code",[a._v("true")]),a._v(" value.")]),a._v(" "),t("h3",{attrs:{id:"kestra-variables-cache-enabled"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-variables-cache-enabled"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.variables.cache-enabled")])]),a._v(" "),t("p",[a._v("The rendering of template variables can be cpu intensive, and by default we "),t("strong",[a._v("enable")]),a._v(' a cache of "templates". You can disable it, but it\'s really recommended keeping it enabled.')]),a._v(" "),t("h3",{attrs:{id:"kestra-variables-cache-size"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-variables-cache-size"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.variables.cache-size")])]),a._v(" "),t("p",[a._v("The rendering of template variables cache is an LRU cache (keep most used) and will be in memory (default "),t("code",[a._v("1000")]),a._v("). You can change the size of the template cache (in number of template), take care that more this number will be high, the more memory server will use, maybe for not so many use templates.")]),a._v(" "),t("h3",{attrs:{id:"kestra-tasks-defaults"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-tasks-defaults"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.tasks.defaults")])]),a._v(" "),t("p",[a._v("You can also provide from configuration files tasks defaults that will be applied on each tasks on your cluster "),t("strong",[a._v("if not defined")]),a._v(" on flow or tasks."),t("br"),a._v("\nMostly it will allow you to be sure a value was defined at a default value for these task types.")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tasks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaults")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" io.kestra.core.tasks.debugs.Echo\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("level")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ERROR\n")])])]),t("p",[a._v("These variables will be accessible on flow with "),t("code",{pre:!0},[a._v("{{ globals.env }}")])]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tasks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaults")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" io.kestra.core.tasks.debugs.Echo\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("level")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ERROR\n")])])]),t("p",[a._v("These variables will be accessible on flow with "),t("code",{pre:!0},[a._v("{{ globals.env }}")])]),a._v(" "),t("h2",{attrs:{id:"metrics-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#metrics-configuration"}},[a._v("#")]),a._v(" Metrics configuration")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("kestra.metrics.prefix")]),a._v(": Change the prefix for "),t("a",{attrs:{href:"../monitoring"}},[a._v("all metrics")]),a._v(" for Kestra(default: kestra)")])]),a._v(" "),t("h2",{attrs:{id:"servers-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#servers-configuration"}},[a._v("#")]),a._v(" Servers configuration")]),a._v(" "),t("h3",{attrs:{id:"kestra-server-access-log-access-log-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-server-access-log-access-log-configuration"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.server.access-log")]),a._v(": Access Log configuration")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("kestra.server.access-log.enabled")]),a._v(": Enabled access log from webserver (default "),t("code",[a._v("true")]),a._v(")")]),a._v(" "),t("li",[t("code",[a._v("kestra.server.access-log.name")]),a._v(": Logger name (default "),t("code",[a._v("io.kestra.webserver.access")]),a._v(")")]),a._v(" "),t("li",[t("code",[a._v("kestra.server.access-log.format")]),a._v(": Access log format (default "),t("code",[a._v("[Date: {}] [Duration: {} ms] [Method: {}] [Url: {}] [Status: {}] [Length: {}] [Ip: {}] [Port: {}]")]),a._v(")")]),a._v(" "),t("li",[t("code",[a._v("kestra.server.access-log.filters")]),a._v(": list of regexp that will log, use "),t("code",[a._v(".*")]),a._v(" to enable all  (default "),t("code",[a._v('- ".*\\\\[Url: /api/.*"')]),a._v(")")])]),a._v(" "),t("p",[a._v("Here is the default values:")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("access-log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" io.kestra.webserver.access\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[Date: {}] [Duration: {} ms] [Method: {}] [Url: {}] [Status: {}] [Length: {}] [Ip: {}] [Port: {}]"')]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("filters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('".*\\\\[Url: /api/.*"')]),a._v("\n")])])]),t("h3",{attrs:{id:"kestra-configurations-delete-files-on-start-delete-configurations-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-configurations-delete-files-on-start-delete-configurations-files"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.configurations.delete-files-on-start")]),a._v(": Delete configurations files")]),a._v(" "),t("p",[a._v("This setting allows you to delete all configurations just after the server startup. It prevents the ability to read configurations files (that may contain your secrets) from a Bash task for example. The server will keep this value on memory and won't be accessible from tasks. Values are either "),t("code",[a._v("true")]),a._v(" or "),t("code",[a._v("false")]),a._v(" (default "),t("code",[a._v("false")]),a._v(")")]),a._v(" "),t("h2",{attrs:{id:"endpoint-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endpoint-configuration"}},[a._v("#")]),a._v(" Endpoint configuration")]),a._v(" "),t("p",[a._v("Endpoint configuration can be done with micronaut configuration from "),t("a",{attrs:{href:"https://docs.micronaut.io/latest/guide/index.html#endpointConfiguration",target:"_blank",rel:"noopener noreferrer"}},[a._v("micronaut"),t("OutboundLink")],1),a._v("."),t("br"),a._v("\nYou can also secure all endpoints with a basic auth authentification using this additional configuration:")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("endpoints")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("all")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("basic-auth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" your"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("user\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" your"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("password\n")])])]),t("h2",{attrs:{id:"temporary-storage-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#temporary-storage-configuration"}},[a._v("#")]),a._v(" Temporary storage configuration")]),a._v(" "),t("p",[a._v("Kestra writes temporary files during task processing. By default files will be created on "),t("code",[a._v("/tmp")]),a._v(", but you can change the location with this configuration:")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tasks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tmp-dir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /home/kestra/tmp\n")])])]),t("h2",{attrs:{id:"jvm-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jvm-configuration"}},[a._v("#")]),a._v(" JVM configuration")]),a._v(" "),t("p",[a._v("All JVM options can be passed as environmental vars named "),t("code",[a._v("JAVA_OPTS")]),a._v(". You can use it to change all JVM options available, such as memory, encoding, etc...")]),a._v(" "),t("p",[a._v("Example:")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_OPTS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-Duser.timezone=Europe/Paris"')]),a._v("\n")])])]),t("h3",{attrs:{id:"user-timezone-timezone"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-timezone-timezone"}},[a._v("#")]),a._v(" "),t("code",[a._v("user.timezone")]),a._v(": Timezone")]),a._v(" "),t("p",[a._v("By default, Kestra will handle all dates using your system's timezone. You can change the timezone with JVM options.")]),a._v(" "),t("p",[a._v("Changing the timezone will mostly affect:")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("scheduler")]),a._v(": by default, all schedule dates are UTC, changing the java timezone will allow you to schedule the flow in your timezone.")]),a._v(" "),t("li",[t("strong",[a._v("log")]),a._v(":  that will be displayed on your timezone.")])]),a._v(" "),t("h2",{attrs:{id:"anonymous-usage-report"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#anonymous-usage-report"}},[a._v("#")]),a._v(" Anonymous usage report")]),a._v(" "),t("p",[a._v("Understanding how you use Kestra is very important to us: it helps us improve the solution in many ways."),t("br"),a._v("\nFor this very reason, the "),t("code",[a._v("kestra.anonymous-usage-report.enabled")]),a._v(" option is mandatory: we want you to take time to consider whether you wish to share anonymous data with us, so we can benefit from your experience and use cases.")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("kestra.anonymous-usage-report.enabled")]),a._v(": (default true)")]),a._v(" "),t("li",[t("code",[a._v("kestra.anonymous-usage-report.initial-delay")]),a._v(": (default 5m)")]),a._v(" "),t("li",[t("code",[a._v("kestra.anonymous-usage-report.fixed-delay")]),a._v(": (default 1h)")])]),a._v(" "),t("h3",{attrs:{id:"collected-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#collected-data"}},[a._v("#")]),a._v(" Collected Data")]),a._v(" "),t("p",[a._v("The collected data can be found "),t("a",{attrs:{href:"https://github.com/kestra-io/kestra/tree/develop/core/src/main/java/io/kestra/core/models/collectors",target:"_blank",rel:"noopener noreferrer"}},[a._v("here"),t("OutboundLink")],1),a._v(". We collect only "),t("strong",[a._v("anonymous data")]),a._v(" that allows us to understand how you used Kestra. The data collected includes:")]),a._v(" "),t("ul",[t("li",[t("strong",[a._v("host data:")]),a._v(" cpu, ram, os, jvm and a fingerprint of the machine")]),a._v(" "),t("li",[t("strong",[a._v("plugins data:")]),a._v(" the list of plugins installed and the current version")]),a._v(" "),t("li",[t("strong",[a._v("flow data:")]),a._v(" the namespace count, flow count, the task type and the trigger type used.")]),a._v(" "),t("li",[t("strong",[a._v("execution data:")]),a._v(" the execution & taskruns count for last 2 days with count and duration grouped by status")]),a._v(" "),t("li",[t("strong",[a._v("common data:")]),a._v(" the server type, version, timezone, env, start time and url")])]),a._v(" "),t("h2",{attrs:{id:"webserver-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webserver-configuration"}},[a._v("#")]),a._v(" Webserver configuration")]),a._v(" "),t("h3",{attrs:{id:"kestra-webserver-google-analytics-google-analytics-id"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-webserver-google-analytics-google-analytics-id"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.webserver.google-analytics")]),a._v(": Google Analytics ID")]),a._v(" "),t("p",[a._v("Add Google Analytics tracking ID (ex: "),t("code",[a._v("UA-12345678-1")]),a._v(") and report all page tracking.")]),a._v(" "),t("h3",{attrs:{id:"kestra-webserver-html-head-append-some-head-tags-on-the-webserver-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kestra-webserver-html-head-append-some-head-tags-on-the-webserver-application"}},[a._v("#")]),a._v(" "),t("code",[a._v("kestra.webserver.html-head")]),a._v(": Append some head tags on the webserver application")]),a._v(" "),t("p",[a._v("Mostly useful for injecting css or javascript to customize a web application.")]),a._v(" "),t("p",[a._v("For example, you can add a red banner on production environments:")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kestra")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("webserver")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("html-head")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token scalar string"}},[a._v('\n      <style type="text/css">\n        .v-sidebar-menu .logo:after {\n          background: var(--danger);\n          display: block;\n          content: "Local";\n          position: relative;\n          text-transform: uppercase;\n          bottom: -65px;\n          text-align: center;\n          color: var(--white-always);\n        }\n      </style>')]),a._v("\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);