(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{920:function(t,a,s){"use strict";s.r(a);var e=s(19),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"document-your-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-your-plugin"}},[t._v("#")]),t._v(" Document your plugin")]),t._v(" "),s("p",[t._v("First, let us remember the organization of a plugin project:")]),t._v(" "),s("ul",[s("li",[t._v("The Gradle project can contain several plugins, we call it a group of plugins.")]),t._v(" "),s("li",[t._v("The package in which a plugin is is called a sub-group of plugins. Sometimes there is only one sub-group, so the group and the sub-group are the same.")]),t._v(" "),s("li",[t._v("Each class is a plugin that provides one task, trigger, condition, etc.")])]),t._v(" "),s("p",[t._v("The plugin documentation will be used on the Kestra website and the Kestra UI.")]),t._v(" "),s("p",[t._v("We provide a way to document each level of a plugin project.")]),t._v(" "),s("h2",{attrs:{id:"document-the-plugin-group"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-the-plugin-group"}},[t._v("#")]),t._v(" Document the plugin group")]),t._v(" "),s("h3",{attrs:{id:"manifest-attributes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manifest-attributes"}},[t._v("#")]),t._v(" Manifest attributes")]),t._v(" "),s("p",[t._v("Kestra uses custom manifest attributes to provide top-level group documentation.")]),t._v(" "),s("p",[t._v("The following manifest attributes are used to document the group of plugins:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("X-Kestra-Title")]),t._v(": by default, the Gradle "),s("code",[t._v("project.name")]),t._v(" property is used.")]),t._v(" "),s("li",[s("code",[t._v("X-Kestra-Group")]),t._v(": by default, the Gradle "),s("code",[t._v("group.id")]),t._v(" property with an additional group name is used.")]),t._v(" "),s("li",[s("code",[t._v("X-Kestra-Description")]),t._v(": by default, the Gradle "),s("code",[t._v("project.description")]),t._v(" property is used.")]),t._v(" "),s("li",[s("code",[t._v("X-Kestra-Version")]),t._v(": by default, the Gradle "),s("code",[t._v("project.version")]),t._v(" property is used.")])]),t._v(" "),s("p",[t._v("If you follow the plugin structure of the GitHub template, you should have something like this:")]),t._v(" "),s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("group "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"io.kestra.plugin"')]),t._v("\ndescription "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Google Cloud Platform (GCP) plugins for Kestra.'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [...]")]),t._v("\n\njar "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    manifest "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("attributes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"X-Kestra-Title"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"X-Kestra-Group"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("group "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('".gcp"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"X-Kestra-Description"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"X-Kestra-Version"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("version\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("As you can see, the most important documentation attribute is the "),s("code",[t._v("description")]),t._v(", which should be a short sentence describing the plugins.")]),t._v(" "),s("h3",{attrs:{id:"additional-markdown-files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#additional-markdown-files"}},[t._v("#")]),t._v(" Additional markdown files")]),t._v(" "),s("p",[t._v("You can add additional markdown files in the "),s("code",[t._v("src/main/resources/doc")]),t._v(" directory.")]),t._v(" "),s("p",[t._v("If there is a file "),s("code",[t._v("src/main/resources/doc/<plugin-group>.md")]),t._v(", it will be inlined inside the main documentation page as the long description for the group of plugins.")]),t._v(" "),s("p",[t._v("For example, for the GCP group of plugins, the file is "),s("code",[t._v("src/main/resources/doc/io.kestra.plugin.gcp.md")]),t._v(", and it contains authentication information that applies to all tasks.")]),t._v(" "),s("p",[t._v("If there are files inside the "),s("code",[t._v("src/main/resources/doc/guides")]),t._v(" directory, we will list them in a "),s("code",[t._v("Guides")]),t._v(" section on the documentation for the group of plugins.")]),t._v(" "),s("h2",{attrs:{id:"document-the-plugin-sub-groups"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-the-plugin-sub-groups"}},[t._v("#")]),t._v(" Document the plugin sub-groups")]),t._v(" "),s("p",[t._v("Each sub-group can be documented via the "),s("code",[t._v("io.kestra.core.models.annotations.PluginSubGroup")]),t._v(" annotation that must be defined at the package level in a "),s("code",[t._v("package-info.java")]),t._v(" file.")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("@PluginSubGroup")]),t._v(" annotation allows setting:")]),t._v(" "),s("ul",[s("li",[t._v("The sub-group "),s("code",[t._v("title")]),t._v(". If not set, the name of the sub-group will be used.")]),t._v(" "),s("li",[t._v("The sub-group "),s("code",[t._v("description")]),t._v(", which is a short sentence introducing the sub-group.")]),t._v(" "),s("li",[t._v("The sub-group "),s("code",[t._v("categories")]),t._v(", which is a list of "),s("code",[t._v("PluginCategory")]),t._v(". If not set, the category "),s("code",[t._v("MISC")]),t._v(" will be used.")])]),t._v(" "),s("p",[t._v("For example, for the GCP BigQuery sub-group:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PluginSubGroup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BigQuery"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    description "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This sub-group of plugins contains tasks for accessing Google Cloud BigQuery.\\n"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BigQuery is a completely serverless and cost-effective enterprise data warehouse."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    categories "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginSubGroup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PluginCategory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DATABASE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginSubGroup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PluginCategory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CLOUD "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("kestra"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gcp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bigquery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("kestra"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginSubGroup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"document-each-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-each-plugin"}},[t._v("#")]),t._v(" Document each plugin")]),t._v(" "),s("p",[t._v("Plugin documentation will generate a JSON Schema that will be used to validate flows. It also generates documentation for both the UI and the website.")]),t._v(" "),s("h3",{attrs:{id:"document-the-plugin-class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-the-plugin-class"}},[t._v("#")]),t._v(" Document the plugin class")]),t._v(" "),s("p",[t._v("Each plugin class must be documented via the following:")]),t._v(" "),s("ul",[s("li",[t._v("The "),s("code",[t._v("io.kestra.core.models.annotations.Plugin")]),t._v(" annotation allows providing examples.")]),t._v(" "),s("li",[t._v("The "),s("code",[t._v("io.swagger.v3.oas.annotations.media.Schema")]),t._v(" annotation, which the "),s("code",[t._v("title")]),t._v(" attribute will use as the plugin description.")])]),t._v(" "),s("p",[t._v("For example, the "),s("code",[t._v("Query")]),t._v(" task of the PostgreSQL group of plugins is documented as follows:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Schema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Query a PostgresSQL server"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    examples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Example")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            full "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Execute a query"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            code "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tasks:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"- id: update"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  type: io.kestra.plugin.jdbc.postgresql.Query"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  url: jdbc:postgresql://127.0.0.1:56982/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  username: postgres"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  password: pg_passwd"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  sql: select concert_id, available, a, b, c, d, play_time, library_record, floatn_test, double_test, real_test, numeric_test, date_type, time_type, timez_type, timestamp_type, timestampz_type, interval_type, pay_by_quarter, schedule, json_type, blob_type from pgsql_types"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  fetch: true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("For convenience, the "),s("code",[t._v("code")]),t._v(" attribute of the "),s("code",[t._v("@Example")]),t._v(" annotation is a list of strings. Each string will be a line of the example. That avoids concatenating multi-line strings in a single attribute.")]),t._v(" "),s("p",[t._v("You can add multiple examples if needed.")]),t._v(" "),s("h3",{attrs:{id:"document-the-plugin-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-the-plugin-properties"}},[t._v("#")]),t._v(" Document the plugin properties")]),t._v(" "),s("p",[t._v("In a plugin, all properties must be annotated by "),s("code",[t._v("io.kestra.core.models.annotations.PluginProperty")]),t._v(" and should provide documentation via the "),s("code",[t._v("io.swagger.v3.oas.annotations.media.Schema")]),t._v(" annotation and validation rules via "),s("code",[t._v("javax.validation.constraints.*")]),t._v(".")]),t._v(" "),s("p",[t._v("Please check the "),s("RouterLink",{attrs:{to:"/docs/plugin-developer-guide/runnable-task/#properties-validation"}},[t._v("Properties validation")]),t._v(" documentation page for validation rules.")],1),t._v(" "),s("p",[t._v("The "),s("code",[t._v("@PluginProperty")]),t._v(" annotation contains two attributes:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("dynamic")]),t._v(": set it to true if the property will be rendered dynamically. See "),s("RouterLink",{attrs:{to:"/docs/plugin-developer-guide/runnable-task/#render-variables"}},[t._v("Render Variable")]),t._v(".")],1),t._v(" "),s("li",[s("code",[t._v("additionalProperties")]),t._v(": you can use it to denote the sub-type of the property. For example, when using a "),s("code",[t._v("Map<String, Message>")]),t._v(", you can set it to "),s("code",[t._v("Message.class")]),t._v(".")])]),t._v(" "),s("p",[t._v("The Swagger "),s("code",[t._v("@Schema")]),t._v(" annotation contains a lot of attributes that can be used to document the plugin properties. The most useful are:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("title")]),t._v(": a short description of a property.")]),t._v(" "),s("li",[s("code",[t._v("description")]),t._v(": long description of a property.")]),t._v(" "),s("li",[s("code",[t._v("anyOf")]),t._v(": a list of allowed sub-types of a property. Use it when the property type is an interface, an abstract class, or a class inside a hierarchy of classes to denote possible sub-types. This should be set when the property type is "),s("code",[t._v("Object")]),t._v(".")])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("@Schema")]),t._v(" and "),s("code",[t._v("@PluginProperty")]),t._v(" annotations can be used on fields, methods, or classes.")]),t._v(" "),s("p",[t._v("Many tasks can take input from multiple sources on the same property. They usually have a single "),s("code",[t._v("from")]),t._v(" property, a string representing a file in the Kestra Storage, a single object, or a list of objects. To document such property, you can use "),s("code",[t._v("anyOf")]),t._v(" this way:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PluginProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dynamic "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@NotNull")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Schema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The source of the published data."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    description "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Can be an internal storage URI, a list of Pub/Sub messages, or a single Pub/Sub message."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    anyOf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" from"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("Due to limitations on how JSON schema works, you cannot add "),s("code",[t._v("@Schema")]),t._v(" on a Java enum type and the plugin property that uses this type. We advise avoiding using "),s("code",[t._v("@Schema")]),t._v(" on enumerations.")])]),t._v(" "),s("h3",{attrs:{id:"document-the-plugin-outputs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-the-plugin-outputs"}},[t._v("#")]),t._v(" Document the plugin outputs")]),t._v(" "),s("p",[t._v("Outputs should be documented with the "),s("code",[t._v("io.swagger.v3.oas.annotations.media.Schema")]),t._v(" annotation in the same way as plugin properties. Please read the section above for more information.")]),t._v(" "),s("p",[t._v("Only use the annotation mentioned above. Never use "),s("code",[t._v("@PluginProperty")]),t._v(" on an output.")]),t._v(" "),s("h3",{attrs:{id:"document-the-plugin-metrics"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#document-the-plugin-metrics"}},[t._v("#")]),t._v(" Document the plugin metrics")]),t._v(" "),s("p",[t._v("Tasks can produce metrics; to document those you must add a "),s("code",[t._v("@Metric")]),t._v(" annotation instance for each metric in the "),s("code",[t._v("@Plugin")]),t._v(" annotation instance of the task.")]),t._v(" "),s("p",[t._v("For example, to document two metrics: a "),s("strong",[t._v("length")]),t._v(" metric of type "),s("code",[t._v("counter")]),t._v(" and a "),s("strong",[t._v("duration")]),t._v(" metric of "),s("code",[t._v("type")]),t._v(" timer, you can use the following:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Plugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    metrics "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Metric")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"length"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Counter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TYPE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Metric")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"duration"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Timer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TYPE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);