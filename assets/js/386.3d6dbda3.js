(window.webpackJsonp=window.webpackJsonp||[]).push([[386],{1022:function(e,t,s){"use strict";s.r(t);var a=s(19),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",[e._v("\n     Publish\n")]),e._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"io.kestra.plugin.mqtt.Publish"')]),e._v("\n")])])]),s("blockquote",[s("p",[e._v("Produce message in a MQTT topic")])]),e._v(" "),s("h2",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"publish"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"io.kestra.plugin.mqtt.Publish"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("server")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" tcp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("//localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1883")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("clientId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" kestraProducer\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("topic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" kestra/sensors/cpu\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("serdeType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" JSON\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("retain")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" \n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"sensors"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1.23")]),e._v("\n")])])]),s("h2",{attrs:{id:"properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#properties"}},[e._v("#")]),e._v(" Properties")]),e._v(" "),s("h3",{attrs:{id:"authmethod"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authmethod"}},[e._v("#")]),e._v(" "),s("code",[e._v("authMethod")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")])]),e._v(" "),s("blockquote",[s("p",[e._v("The Authentication Method.")])]),e._v(" "),s("p",[e._v("Only available if "),s("code",[e._v("version")]),e._v(" = "),s("code",[e._v("V5")]),s("br"),e._v("\nIf set, this value contains the name of the authentication method to be used for extended authentication. If null, extended authentication is not performed.")]),e._v(" "),s("h3",{attrs:{id:"clientid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clientid"}},[e._v("#")]),e._v(" "),s("code",[e._v("clientId")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")])]),e._v(" "),s("blockquote",[s("p",[e._v("A client identifier that is unique on the server being connected to")])]),e._v(" "),s("p",[e._v("A client identifier clientId must be specified and be less that 65535 characters. It must be unique across all clients connecting to the same server. The clientId is used by the server to store data related to the client, hence it is important that the clientId remain the same when connecting to a server if durable subscriptions or reliable messaging are required."),s("br"),e._v("\nAs the client identifier is used by the server to identify a client when it reconnects, the client must use the same identifier between connections if durable subscriptions or reliable delivery of messages is required.")]),e._v(" "),s("h3",{attrs:{id:"connectiontimeout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connectiontimeout"}},[e._v("#")]),e._v(" "),s("code",[e._v("connectionTimeout")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")]),e._v(" "),s("li",[s("strong",[e._v("Format:")]),e._v(" "),s("code",[e._v("duration")])])]),e._v(" "),s("blockquote",[s("p",[e._v("The connection timeout.")])]),e._v(" "),s("p",[e._v("This value defines the maximum time interval the client will wait for the network connection to the MQTT server to be established. The default timeout is 30 seconds. A value of 0 disables timeout processing meaning the client will wait until the network connection is made successfully or fails.")]),e._v(" "),s("h3",{attrs:{id:"from"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#from"}},[e._v("#")]),e._v(" "),s("code",[e._v("from")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" ====")]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ✔️")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ✔️")])]),e._v(" "),s("blockquote",[s("p",[e._v("Source of message send")])]),e._v(" "),s("p",[e._v("Can be an internal storage uri, a map or a list.with the following format: key, value, partition, timestamp, headers")]),e._v(" "),s("h3",{attrs:{id:"httpshostnameverificationenabled"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#httpshostnameverificationenabled"}},[e._v("#")]),e._v(" "),s("code",[e._v("httpsHostnameVerificationEnabled")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("boolean")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")])]),e._v(" "),s("blockquote",[s("p",[e._v("Disable ssl verification.")])]),e._v(" "),s("p",[e._v("This value will allow all ca certificate.")]),e._v(" "),s("h3",{attrs:{id:"password"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#password"}},[e._v("#")]),e._v(" "),s("code",[e._v("password")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")])]),e._v(" "),s("blockquote",[s("p",[e._v("The password to use for the connection.")])]),e._v(" "),s("h3",{attrs:{id:"qos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#qos"}},[e._v("#")]),e._v(" "),s("code",[e._v("qos")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("integer")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")]),e._v(" "),s("li",[s("strong",[e._v("Default:")]),e._v(" "),s("code",[e._v("1")])])]),e._v(" "),s("blockquote",[s("p",[e._v("Sets the quality of service for this message.")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Quality of Service 0")]),e._v(': indicates that a message should be delivered at most once (zero or one times). The message will not be persisted to disk, and will not be acknowledged across the network. This QoS is the fastest, but should only be used for messages which are not valuable - note that if the server cannot process the message (for example, there is an authorization problem). Also known as "fire and forget".')]),e._v(" "),s("li",[s("strong",[e._v("Quality of Service 1")]),e._v(": indicates that a message should be delivered at least once (one or more times). The message can only be delivered safely if it can be persisted, so the application must supply a means of persistence using MqttConnectOptions. If a persistence mechanism is not specified, the message will not be delivered in the event of a client failure. The message will be acknowledged across the network.")]),e._v(" "),s("li",[s("strong",[e._v("Quality of Service 2")]),e._v(": indicates that a message should be delivered once. The message will be persisted to disk, and will be subject to a two-phase acknowledgement across the network. The message can only be delivered safely if it can be persisted, so the application must supply a means of persistence using MqttConnectOptions. If a persistence mechanism is not specified, the message will not be delivered in the event of a client failure."),s("br"),e._v("\nIf persistence is not configured, QoS 1 and 2 messages will still be delivered in the event of a network or server problem as the client will hold state in memory. If the MQTT client is shutdown or fails and persistence is not configured then delivery of QoS 1 and 2 messages can not be maintained as client-side state will be lost.")])]),e._v(" "),s("h3",{attrs:{id:"retain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#retain"}},[e._v("#")]),e._v(" "),s("code",[e._v("retain")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("boolean")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❌")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ✔️")]),e._v(" "),s("li",[s("strong",[e._v("Default:")]),e._v(" "),s("code",[e._v("false")])])]),e._v(" "),s("blockquote",[s("p",[e._v("Whether or not the publish message should be retained by the messaging engine.")])]),e._v(" "),s("p",[e._v("Sending a message with retained set to true and with an empty byte array as the payload e.g. "),s("code",[e._v("null")]),e._v(" will clear the retained message from the server.")]),e._v(" "),s("h3",{attrs:{id:"serdetype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serdetype"}},[e._v("#")]),e._v(" "),s("code",[e._v("serdeType")])]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Required:")]),e._v(" ❌")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Possible Values:")])]),e._v(" "),s("ul",[s("li",[s("code",[e._v("STRING")])]),e._v(" "),s("li",[s("code",[e._v("JSON")])]),e._v(" "),s("li",[s("code",[e._v("BYTES")])])])])]),e._v(" "),s("blockquote",[s("p",[e._v("Serializer / Deserializer used for the payload")])]),e._v(" "),s("h3",{attrs:{id:"server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[e._v("#")]),e._v(" "),s("code",[e._v("server")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")])]),e._v(" "),s("blockquote",[s("p",[e._v("The address of the server to connect to, specified as a URI")])]),e._v(" "),s("p",[e._v("The serverURI parameter is typically used with the the clientId parameter to form a key. The key is used to store and reference messages while they are being delivered."),s("br"),e._v("\nThe address of the server to connect to is specified as a URI. Two types of connection are supported "),s("code",[e._v("tcp://")]),e._v(" for a TCP connection and "),s("code",[e._v("ssl://")]),e._v(" for a TCP connection secured by SSL/TLS. For example:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("tcp://localhost:1883")])]),e._v(" "),s("li",[s("code",[e._v("ssl://localhost:8883")]),s("br"),e._v("\nIf the port is not specified, it will default to 1883 for "),s("code",[e._v("tcp://")]),e._v('" URIs, and 8883 for '),s("code",[e._v("ssl://")]),e._v(" URIs.")])]),e._v(" "),s("h3",{attrs:{id:"topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#topic"}},[e._v("#")]),e._v(" "),s("code",[e._v("topic")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ✔️")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ✔️")])]),e._v(" "),s("blockquote",[s("p",[e._v("Topic where to send message")])]),e._v(" "),s("h3",{attrs:{id:"username"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#username"}},[e._v("#")]),e._v(" "),s("code",[e._v("username")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])]),e._v(" "),s("li",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")]),e._v(" "),s("li",[s("strong",[e._v("Required:")]),e._v(" ❌")])]),e._v(" "),s("blockquote",[s("p",[e._v("The user name to use for the connection.")])]),e._v(" "),s("h3",{attrs:{id:"version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[e._v("#")]),e._v(" "),s("code",[e._v("version")])]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("string")])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Dynamic:")]),e._v(" ❓")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Required:")]),e._v(" ✔️")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Default:")]),e._v(" "),s("code",[e._v("V5")])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Possible Values:")])]),e._v(" "),s("ul",[s("li",[s("code",[e._v("V3")])]),e._v(" "),s("li",[s("code",[e._v("V5")])])])])]),e._v(" "),s("blockquote",[s("p",[e._v("The MQTT version to use.")])]),e._v(" "),s("h2",{attrs:{id:"outputs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#outputs"}},[e._v("#")]),e._v(" Outputs")]),e._v(" "),s("h3",{attrs:{id:"messagescount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#messagescount"}},[e._v("#")]),e._v(" "),s("code",[e._v("messagesCount")])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Type:")]),e._v(" "),s("mark",[e._v("integer")])])]),e._v(" "),s("blockquote",[s("p",[e._v("Number of message published")])])])}),[],!1,null,null,null);t.default=r.exports}}]);