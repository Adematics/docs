(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{271:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flow"}},[t._v("#")]),t._v(" Flow")]),t._v(" "),a("p",[t._v("In this documentation you will learn what is a flow and how to define them.")]),t._v(" "),a("h2",{attrs:{id:"task-kinds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#task-kinds"}},[t._v("#")]),t._v(" Task kinds")]),t._v(" "),a("p",[t._v("There are in Kestra two tasks kinds :")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Runnable tasks")]),t._v(": these tasks will handle most of the workload, this can be api call,\ntransformation, ..., anything that must be run, the kestra core don't included many tasks runnable, since\nthey are available as plugins.")]),t._v(" "),a("li",[a("strong",[t._v("Orchestrate tasks")]),t._v(": they are mostly included in Kestra Core let you compose tasks together\n(sequential, parallel, ...). More details below.")])]),t._v(" "),a("h2",{attrs:{id:"flow-sample"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flow-sample"}},[t._v("#")]),t._v(" Flow sample")]),t._v(" "),a("p",[t._v("The flow model is a yaml document descibing how Kestra will schedule and compute your workload.")]),t._v(" "),a("p",[t._v("Here is a full sample flow demonstrating the flow definition.\nThe following code is a sample existing task in Kestra for testing purposes.")]),t._v(" "),a("h2",{attrs:{id:"flow-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flow-properties"}},[t._v("#")]),t._v(" Flow Properties")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" samples \n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.kestra.tests \n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("revision")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8 ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("value\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" STRING\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("first")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("second")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{vars.first}} > 2"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("third")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{vars.second}} > 3"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tasks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" date \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.kestra.core.tasks.debugs.Return \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A log line content with a contextual date variable {{taskrun.startDate}}"')]),t._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("errors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" failed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("echo \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.kestra.core.tasks.debugs.Echo  \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" second "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("task.id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("id")])]),t._v(" "),a("td",[t._v("Flow identifier, must be unique across namespaces.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("namespace")])]),t._v(" "),a("td",[t._v("Each task live in one arbitrary namespace, this is useful for task organisation. Namespace is required.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("revision")])]),t._v(" "),a("td",[t._v("Flow version, handle internally by kestra, and will be incremented for each modifications save, not required since autogenerated.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("inputs")])]),t._v(" "),a("td",[t._v("List of inputs for current flow, more details "),a("router-link",{attrs:{to:"/docs/developer-guide/inputs/"}},[t._v("here")])],1)]),t._v(" "),a("tr",[a("td",[a("code",[t._v("variables")])]),t._v(" "),a("td",[t._v("A list of variables for the current flow that can be reach with "),a("code",{pre:!0},[t._v("{{ vars.name }}")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tasks")])]),t._v(" "),a("td",[t._v("A list of related tasks the current flow, all tasks will be run sequentially.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tasks.[].id")])]),t._v(" "),a("td",[t._v("The task id that must be "),a("strong",[t._v("unique")]),t._v(" for current flow.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tasks.[].type")])]),t._v(" "),a("td",[t._v("The task type that is a full java class name.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tasks.[].xxx")])]),t._v(" "),a("td",[t._v("Here is a specific field for this task type (Retrun) that append a formatted line in log file stream.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("errors")])]),t._v(" "),a("td",[t._v("A list of errors tasks the current flow, all tasks will be run sequentially and will be run only if there is any error on the current execution.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("errors.[].xxx")])]),t._v(" "),a("td",[t._v("The same property as "),a("code",[t._v("tasks")]),t._v(", error can be any normal tasks, more details "),a("router-link",{attrs:{to:"/docs/developer-guide/errors-handling/"}},[t._v("here")])],1)])])])])}),[],!1,null,null,null);s.default=n.exports}}]);